# SCASH 核心钱包 RPC 节点配置指南 (服务节点专用)

**⚠️ 极度重要安全警告：请先阅读！**
**请勿使用此节点钱包存储任何资金！请勿在此节点创建新钱包地址！**
由于本教程需要将 RPC 接口向公网开放 (`rpcallowip=0.0.0.0/0`)，任何知道您 IP 和端口的人都有可能尝试通过暴力破解密码来控制该节点。

  * **用途限制**：此节点仅作为一个“数据查询服务器”供 Vercel 网页端读取数据。
  * **资金安全**：您的助记词和私钥应仅保存在网页端（客户端）或冷钱包中，**绝对不要**导入到这个电脑节点上。

-----

### 第一步：下载并安装

1.  前往 GitHub 下载页：`https://github.com/scashnetwork/scash/releases`
2.  下载对应系统的安装包并安装。
3.  **首次运行初始化**：安装后运行一次钱包，选择数据存储位置（建议预留 30GB 以上空间），等待它开始同步后，**彻底关闭钱包程序**。

### 第二步：定位数据文件夹

你需要找到存放数据的文件夹来修改配置。

  * **Windows**: 按 `Win + R`，输入 `%appdata%\Scash` 回车。
  * **Linux**: 通常位于 `~/.scash/`。

### 第三步：配置 scash.conf (核心步骤)

在数据文件夹中创建一个名为 `scash.conf` 的文本文件（注意不要叫 `scash.conf.txt`），复制并粘贴以下内容：

```ini
# --- 基础服务设置 ---
# 开启服务器模式，允许外部查询
server=1
# 允许后台运行
daemon=1
# 监听端口 (假设为 8432)
rpcport=8432

# --- 索引设置---
# 开启全量交易索引。如果不开启，网页钱包无法查询历史交易记录。
txindex=1

# --- 账号密码 (必须修改) ---
# 请务必设置一个极度复杂的密码，这是你最后一道防线
rpcuser=scashnode
rpcpassword=Set_A_Very_Complex_Password_Here_!!!

# --- 网络开放设置 ---
# 警告：以下设置允许任何 IP 连接此节点
rpcallowip=0.0.0.0/0
rpcbind=0.0.0.0
```

### 第四步：启动并构建索引

由于我们开启了 `txindex=1`（交易索引），启动方式有所不同：

**情况 A：你刚刚安装，区块还没同步或刚开始同步**
直接正常启动钱包即可。它会从第一个区块开始建立索引。

**情况 B：你之前已经同步了很多区块数据**
你需要强制钱包重新扫描所有旧区块来建立索引。

  * **Windows**: 创建一个钱包快捷方式，右键“属性”，在“目标”栏最后面加一个空格，然后加上 `-reindex`。使用此快捷方式启动。
  * **命令行**: 运行 `scashd -reindex`。
  * *注意：重建索引非常慢，可能需要几小时甚至几天，取决于电脑性能。*

### 第五步：设置端口映射 (Port Forwarding)

为了让部署在 Vercel 上的网页能连上你家里的电脑，你需要配置路由器：

1.  登录路由器后台。
2.  找到“虚拟服务器”或“端口转发”。
3.  将外部端口 `8432` 转发到你电脑局域网 IP (如 `192.168.x.x`) 的 `8432` 端口。
4.  获取你的公网 IP。

### 第六步：在 Vercel 中填写的配置

回到 Vercel 的环境变量设置中，填入：

  * **Key**: `BITCOIN_RPC_ENDPOINTS`
  * **Value**: `http://你的公网IP:8432|scashnode|你的复杂密码`

-----

**再次提醒**：此电脑钱包节点仅作为“区块链浏览器”的后端数据库使用，**切勿当做存钱的主力钱包使用！**